{
"app-id": "com.holypangolin.Animatch",
"runtime": "org.freedesktop.Platform",
"runtime-version": "18.08",
"sdk": "org.freedesktop.Sdk",
"command": "animatch",
"rename-icon": "animatch",
"rename-desktop-file": "animatch.desktop",
"finish-args": [
   "--socket=fallback-x11",
   "--socket=wayland",
   "--socket=pulseaudio",
   "--device=dri",
   "--share=ipc"
],
"cleanup": ["/include", "/lib/pkgconfig", "/lib/*.a", "/lib/*.la", "/share/aclocal", "/share/doc", "/bin/test_physfs"],
"modules": [
  {
    "name": "SDL2",
    "buildsystem": "cmake-ninja",
    "config-opts": ["-DCMAKE_BUILD_TYPE=RelWithDebInfo"],
    "builddir": true,
    "sources": [
      {
        "type": "archive",
        "url": "https://libsdl.org/release/SDL2-2.0.9.tar.gz",
        "sha512": "a78a4708b2bb5b35a7c7b7501eb3bd60a9aa3bb95a3d84e57763df4a377185e7312a94b66321eef7ca0d17255e4b402fc950e83ef0dbbd08f14ff1194107dc10"
      },
      {
        "type": "patch",
        "path": "0001-wayland-ask-KDE-protocol-extension-to-use-server-sid.patch"
      },
      {
        "type": "patch",
        "path": "0001-wayland-ask-xdg-decoration-protocol-extension-to-use.patch"
      },
      {
        "type": "patch",
        "path": "0001-wayland-fix-resizing-and-fullscreen-toggling.patch"
      }
    ]
  },
  {
    "name": "allegro5",
    "buildsystem": "cmake-ninja",
    "build-options": {
       "config-opts": ["-DALLEGRO_SDL=ON", "-DGL_BUILD_TYPE=gles2+", "-DWANT_DEMO=OFF", "-DWANT_EXAMPLES=OFF", "-DWANT_TESTS=no", "-DCMAKE_BUILD_TYPE=RelWithDebInfo"]
    },
    "sources": [
      {
        "type": "git",
        "branch": "dos",
        "url": "git://github.com/dos1/allegro5"
      }
    ]
  },
  {
    "name": "animatch",
    "buildsystem": "cmake-ninja",
    "build-options": {
       "config-opts": ["-DCMAKE_BUILD_TYPE=RelWithDebInfo"]
    },
    "sources": [
      {
        "type": "dir",
        "path": ".."
      }
    ]
  }
]
}
